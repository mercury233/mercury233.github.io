
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>笔记：在Windows下编译YGOPro | Mercury233</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Mercury233">
    

    
    <meta name="description" content="近期在 MyCard 项目中尝试了自动化编译 YGOPro，发现官方采用 premake 生成项目文件，但并没有给出具体方法。故在此记录下折腾的成果。本笔记基本上是参考了 DailyShana 的 build 分支写成，感谢 soarqin 和 DailyShana 的工作。本笔记的操作在 Windows 7 和 Visual Studio Community 2015 上测试通过，理论上也可以适">
<meta property="og:type" content="article">
<meta property="og:title" content="笔记：在Windows下编译YGOPro">
<meta property="og:url" content="https://mercury233.me/2016/09/22/%E7%AC%94%E8%AE%B0%EF%BC%9A%E5%9C%A8Windows%E4%B8%8B%E7%BC%96%E8%AF%91YGOPRO/index.html">
<meta property="og:site_name" content="Mercury233">
<meta property="og:description" content="近期在 MyCard 项目中尝试了自动化编译 YGOPro，发现官方采用 premake 生成项目文件，但并没有给出具体方法。故在此记录下折腾的成果。本笔记基本上是参考了 DailyShana 的 build 分支写成，感谢 soarqin 和 DailyShana 的工作。本笔记的操作在 Windows 7 和 Visual Studio Community 2015 上测试通过，理论上也可以适">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2016-09-22T14:10:01.000Z">
<meta property="article:modified_time" content="2017-07-27T13:08:43.877Z">
<meta property="article:author" content="Mercury233">
<meta property="article:tag" content="经验">
<meta name="twitter:card" content="summary">

    
    
    
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>

  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Mercury233">Mercury233</a></h1>
				<h2 class="blog-motto">随便写写</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					
					<li><a href="/">Home</a></li>
					
					<li><a href="/archives">Archives</a></li>
					
					<li><a href="/categories/%E4%BD%9C%E5%93%81/">Works</a></li>
					
					<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:mercury233.me">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/09/22/笔记：在Windows下编译YGOPRO/" title="笔记：在Windows下编译YGOPro" itemprop="url">笔记：在Windows下编译YGOPro</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Mercury233" target="_blank" itemprop="author">Mercury233</a>
		
  </p><p class="article-time">
    <time datetime="2016-09-22T14:10:01.000Z" itemprop="datePublished"> 发表于 2016-09-22</time>
    
  </p>
</header>
	<div class="article-content">
		
		<p>近期在 MyCard 项目中尝试了自动化编译 <a target="_blank" rel="noopener" href="https://github.com/Fluorohydride/ygopro">YGOPro</a>，发现官方采用 premake 生成项目文件，但并没有给出具体方法。故在此记录下折腾的成果。<br>本笔记基本上是参考了 <a target="_blank" rel="noopener" href="https://github.com/DailyShana/ygopro/tree/build">DailyShana 的 build 分支</a>写成，感谢 soarqin 和 DailyShana 的工作。<br>本笔记的操作在 Windows 7 和 Visual Studio Community 2015 上测试通过，理论上也可以适用于XP之后的系统。</p>
<p>2017-03-13 更新部分文件。</p>
<span id="more"></span>

<ol start="0">
<li><h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1></li>
</ol>
<p>必须下载：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://premake.github.io/">Premake</a><br>下载地址：<a target="_blank" rel="noopener" href="https://github.com/premake/premake-core/releases/download/v5.0.0-alpha11/premake-5.0.0-alpha11-windows.zip">premake-5.0.0-alpha11-windows.zip</a></li>
<li><a target="_blank" rel="noopener" href="http://libevent.org/">libevent</a><br>下载地址：<a target="_blank" rel="noopener" href="https://github.com/libevent/libevent/releases/download/release-2.0.22-stable/libevent-2.0.22-stable.tar.gz">libevent-2.0.22-stable.tar.gz</a></li>
<li><a target="_blank" rel="noopener" href="https://www.freetype.org/">FreeType</a><br>下载地址：<a target="_blank" rel="noopener" href="http://downloads.sourceforge.net/freetype/freetype-2.7.1.tar.bz2">freetype-2.7.1.tar.bz2</a></li>
<li><a target="_blank" rel="noopener" href="http://irrlicht.sourceforge.net/">Irrlicht</a><br>下载地址：<a target="_blank" rel="noopener" href="http://downloads.sourceforge.net/irrlicht/irrlicht-1.8.4.zip">irrlicht-1.8.4.zip</a></li>
<li><a target="_blank" rel="noopener" href="https://www.lua.org/">Lua</a><br>下载地址：<a target="_blank" rel="noopener" href="https://www.lua.org/ftp/lua-5.2.4.tar.gz">lua-5.2.4.tar.gz</a><br>需注意不支持Lua 5.3。</li>
<li><a target="_blank" rel="noopener" href="https://www.sqlite.org/">SQLite</a><br>下载地址：<a target="_blank" rel="noopener" href="https://www.sqlite.org/2017/sqlite-amalgamation-3170000.zip">sqlite-amalgamation-3170000.zip</a></li>
</ul>
<p>建议下载：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://git-for-windows.github.io/">Git for Windows</a><br>用于自动获取和更新 YGOPro 的源码。此外其包含了 MSYS2，提供后文需要用到的 patch 工具。<br>如果不使用 git，你将需要手动下载 YGOPro 的子模块。此外，在上游和你都对源码做出修改后，你需要手动合并代码。<br><strong>本文默认你已经安装了 Git for Windows，并且设置了账号和 GitHub 的 ssh 公钥。</strong></li>
<li><a target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/download/details.aspx?id=6812">DirectX SDK</a><br>让 YGOPro 支持 Direct3D 模式的必备组件。<br>如果不安装 DirectX SDK，你将需要更改 Irrlicht 的配置文件，并且编译出的 YGOPro 将只能支持 OpenGL 模式。</li>
<li><a target="_blank" rel="noopener" href="https://www.visualstudio.com/zh-cn/products/visual-studio-community-vs.aspx">Visual Studio Community 2015</a><br>免费的正版Visual Studio，功能完全满足业余开发者的需求。</li>
</ul>
<ol>
<li><h1 id="获取-YGOPro-源码"><a href="#获取-YGOPro-源码" class="headerlink" title="获取 YGOPro 源码"></a>获取 YGOPro 源码</h1></li>
</ol>
<p>YGOPro 以 GPL 协议开源，托管在 GitHub，用 <code>git clone</code> 即可获得。clone 时用 <code>--recursive</code> 来同时克隆子模块。</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/Fluorohydride/ygopro.git --recursive</span><br></pre></td></tr></table></figure>
<p>子模块的引用往往不是最新的，需要 <code>git checkout master</code>。</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ygopro/</span><br><span class="line"><span class="built_in">cd</span> ocgcore/</span><br><span class="line">git checkout master</span><br><span class="line"><span class="built_in">cd</span> ../script/</span><br><span class="line">git checkout master</span><br><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><h1 id="Premake-简介"><a href="#Premake-简介" class="headerlink" title="Premake 简介"></a>Premake 简介</h1></li>
</ol>
<p>Premake 是一个命令行工具，用脚本定义软件工程，然后根据脚本为 Visual Studio, Xcode, 或 GNU Make 等工具生成项目文件。<a target="_blank" rel="noopener" href="https://github.com/premake/premake-core/wiki/What-Is-Premake">1</a><br>Premake 的脚本采用 lua 语言，十分简洁易懂，参考 <code>premake4.lua</code> 和 <code>ocgcore\premake4.lua</code> 即可略知一二。<br>于是，我们要做的就是给 <code>libevent</code>、<code>FreeType</code>、<code>Irrlicht</code>、<code>Lua</code> 和 <code>SQLite</code> 写 premake 文件，并最后用 Premake 生成 Visual Studio 的项目文件（解决方案）。</p>
<ol start="3">
<li><h1 id="配置-libevent"><a href="#配置-libevent" class="headerlink" title="配置 libevent"></a>配置 libevent</h1></li>
</ol>
<p>解压 <a target="_blank" rel="noopener" href="https://github.com/libevent/libevent/releases/download/release-2.0.22-stable/libevent-2.0.22-stable.tar.gz"><code>libevent-2.0.22-stable.tar.gz</code></a> 到项目目录，将文件夹重命名为 <code>event</code>。<br>为兼容 YGOPro 源码，将 <code>WIN32-Code</code> 文件夹里的文件全部移动到 <code>include</code> 文件夹。<br>根据 libevent 的 Makefile，得到如下 <a href="event/premake4.lua"><code>premake4.lua</code></a>，放到 <code>event</code> 文件夹里。</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">project <span class="string">&quot;event&quot;</span></span><br><span class="line">    kind <span class="string">&quot;StaticLib&quot;</span></span><br><span class="line"></span><br><span class="line">    includedirs &#123; <span class="string">&quot;include&quot;</span>, <span class="string">&quot;compat&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    files &#123; <span class="string">&quot;event.c&quot;</span>, <span class="string">&quot;evthread.c&quot;</span>, <span class="string">&quot;buffer.c&quot;</span>, <span class="string">&quot;bufferevent.c&quot;</span>, <span class="string">&quot;bufferevent_sock.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;bufferevent_filter.c&quot;</span>, <span class="string">&quot;bufferevent_pair.c&quot;</span>, <span class="string">&quot;listener.c&quot;</span>, <span class="string">&quot;bufferevent_ratelim.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;evmap.c&quot;</span>, <span class="string">&quot;log.c&quot;</span>, <span class="string">&quot;evutil.c&quot;</span>, <span class="string">&quot;evutil_rand.c&quot;</span>, <span class="string">&quot;strlcpy.c&quot;</span>, <span class="string">&quot;signal.c&quot;</span>, </span><br><span class="line">            <span class="string">&quot;event_tagging.c&quot;</span>, <span class="string">&quot;http.c&quot;</span>, <span class="string">&quot;evdns.c&quot;</span>, <span class="string">&quot;evrpc.c&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    configuration <span class="string">&quot;windows&quot;</span></span><br><span class="line">        files &#123; <span class="string">&quot;win32select.c&quot;</span>, <span class="string">&quot;evthread_win32.c&quot;</span>, <span class="string">&quot;buffer_iocp.c&quot;</span>, <span class="string">&quot;event_iocp.c&quot;</span>, <span class="string">&quot;bufferevent_async.c&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><h1 id="配置-FreeType"><a href="#配置-FreeType" class="headerlink" title="配置 FreeType"></a>配置 FreeType</h1></li>
</ol>
<p>解压 <a target="_blank" rel="noopener" href="http://downloads.sourceforge.net/freetype/freetype-2.7.1.tar.bz2"><code>freetype-2.7.1.tar.bz2</code></a> 到项目目录，将文件夹重命名为 <code>freetype</code>。<br>根据 freetype 的 vcxproj，得到如下 <a href="freetype/premake4.lua"><code>premake4.lua</code></a>，放到 <code>freetype</code> 文件夹里。</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">project <span class="string">&quot;freetype&quot;</span></span><br><span class="line">    kind <span class="string">&quot;StaticLib&quot;</span></span><br><span class="line"></span><br><span class="line">    includedirs &#123; <span class="string">&quot;include&quot;</span> &#125;</span><br><span class="line">    defines &#123; <span class="string">&quot;FT2_BUILD_LIBRARY&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    files &#123; <span class="string">&quot;src/autofit/autofit.c&quot;</span>, <span class="string">&quot;src/bdf/bdf.c&quot;</span>, <span class="string">&quot;src/cff/cff.c&quot;</span>, <span class="string">&quot;src/base/ftbase.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/base/ftbitmap.c&quot;</span>, <span class="string">&quot;src/cache/ftcache.c&quot;</span>, <span class="string">&quot;src/base/ftfstype.c&quot;</span>, <span class="string">&quot;src/base/ftgasp.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/base/ftglyph.c&quot;</span>, <span class="string">&quot;src/gzip/ftgzip.c&quot;</span>, <span class="string">&quot;src/base/ftinit.c&quot;</span>, <span class="string">&quot;src/lzw/ftlzw.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/base/ftstroke.c&quot;</span>, <span class="string">&quot;src/base/ftsystem.c&quot;</span>, <span class="string">&quot;src/smooth/smooth.c&quot;</span>, <span class="string">&quot;src/base/ftbbox.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/base/ftfntfmt.c&quot;</span>, <span class="string">&quot;src/base/ftmm.c&quot;</span>, <span class="string">&quot;src/base/ftpfr.c&quot;</span>, <span class="string">&quot;src/base/ftsynth.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/base/fttype1.c&quot;</span>, <span class="string">&quot;src/base/ftwinfnt.c&quot;</span>, <span class="string">&quot;src/base/ftlcdfil.c&quot;</span>, <span class="string">&quot;src/base/ftgxval.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/base/ftotval.c&quot;</span>, <span class="string">&quot;src/base/ftpatent.c&quot;</span>, <span class="string">&quot;src/pcf/pcf.c&quot;</span>, <span class="string">&quot;src/pfr/pfr.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/psaux/psaux.c&quot;</span>, <span class="string">&quot;src/pshinter/pshinter.c&quot;</span>, <span class="string">&quot;src/psnames/psmodule.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/raster/raster.c&quot;</span>, <span class="string">&quot;src/sfnt/sfnt.c&quot;</span>, <span class="string">&quot;src/truetype/truetype.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/type1/type1.c&quot;</span>, <span class="string">&quot;src/cid/type1cid.c&quot;</span>, <span class="string">&quot;src/type42/type42.c&quot;</span>, <span class="string">&quot;src/winfonts/winfnt.c&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    configuration <span class="string">&quot;windows&quot;</span></span><br><span class="line">        files &#123; <span class="string">&quot;builds/windows/ftdebug.c&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><h1 id="配置-Irrlicht"><a href="#配置-Irrlicht" class="headerlink" title="配置 Irrlicht"></a>配置 Irrlicht</h1></li>
</ol>
<p>解压 <a target="_blank" rel="noopener" href="http://downloads.sourceforge.net/irrlicht/irrlicht-1.8.4.zip"><code>irrlicht-1.8.4.zip</code></a> 到项目目录，将文件夹重命名为 <code>irrlicht</code>。<br>为兼容 YGOPro 源码，将 <code>source\Irrlicht</code> 剪切到 <code>irrlicht</code> 文件夹，重命名为 <code>src</code>。<br>Irrlicht 本身对中文显示和输入的支持存在问题，soarqin 和 DailyShana 给出了用于 Irrlicht 的中文支持。<br>将以下代码保存为 <a href="irrlicht/irrlicht.patch"><code>irrlicht.patch</code></a>，在MSYS的命令行下用 <code>patch</code> 应用即可。</p>
<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line"><span class="comment">diff --git a/irrlicht/include/IOSOperator.h b/irrlicht/include/IOSOperator.h</span></span><br><span class="line"><span class="comment">index b5c6236..b2e864a 100644</span></span><br><span class="line"><span class="comment">--- a/irrlicht/include/IOSOperator.h</span></span><br><span class="line"><span class="comment">+++ b/irrlicht/include/IOSOperator.h</span></span><br><span class="line"><span class="meta">@@ -26,11 +26,11 @@</span> public:</span><br><span class="line"> 	&#125;</span><br><span class="line"> </span><br><span class="line"> 	//! Copies text to the clipboard</span><br><span class="line"><span class="deletion">-	virtual void copyToClipboard(const c8* text) const = 0;</span></span><br><span class="line"><span class="addition">+	virtual void copyToClipboard(const c16* text) const = 0;</span></span><br><span class="line"> </span><br><span class="line"> 	//! Get text from the clipboard</span><br><span class="line"> 	/** \return Returns 0 if no string is in there. */</span><br><span class="line"><span class="deletion">-	virtual const c8* getTextFromClipboard() const = 0;</span></span><br><span class="line"><span class="addition">+	virtual const c16* getTextFromClipboard() const = 0;</span></span><br><span class="line"> </span><br><span class="line"> 	//! Get the processor speed in megahertz</span><br><span class="line"> 	/** \param MHz The integer variable to store the speed in.</span><br><span class="line"><span class="comment">diff --git a/irrlicht/include/IrrCompileConfig.h b/irrlicht/include/IrrCompileConfig.h</span></span><br><span class="line"><span class="comment">index c2c5d12..7c44f0c 100644</span></span><br><span class="line"><span class="comment">--- a/irrlicht/include/IrrCompileConfig.h</span></span><br><span class="line"><span class="comment">+++ b/irrlicht/include/IrrCompileConfig.h</span></span><br><span class="line"><span class="meta">@@ -233,7 +233,9 @@</span> you will not be able to use anything provided by the GUI Environment, including</span><br><span class="line"> disable this feature, the engine behave as before (ansi). This is currently only supported</span><br><span class="line"> for Windows based systems. You also have to set #define UNICODE for this to compile.</span><br><span class="line"> */</span><br><span class="line"><span class="deletion">-//#define _IRR_WCHAR_FILESYSTEM</span></span><br><span class="line"><span class="addition">+#if defined(_IRR_WINDOWS_) &amp;&amp; (defined(_UNICODE) || defined(UNICODE))</span></span><br><span class="line"><span class="addition">+#define _IRR_WCHAR_FILESYSTEM</span></span><br><span class="line"><span class="addition">+#endif</span></span><br><span class="line"> #ifdef NO_IRR_WCHAR_FILESYSTEM</span><br><span class="line"> #undef _IRR_WCHAR_FILESYSTEM</span><br><span class="line"> #endif</span><br><span class="line"><span class="comment">diff --git a/irrlicht/include/Keycodes.h b/irrlicht/include/Keycodes.h</span></span><br><span class="line"><span class="comment">index e56eca1..57ab312 100644</span></span><br><span class="line"><span class="comment">--- a/irrlicht/include/Keycodes.h</span></span><br><span class="line"><span class="comment">+++ b/irrlicht/include/Keycodes.h</span></span><br><span class="line"><span class="meta">@@ -89,7 +89,7 @@</span> namespace irr</span><br><span class="line"> 		KEY_KEY_X            = 0x58,  // X key</span><br><span class="line"> 		KEY_KEY_Y            = 0x59,  // Y key</span><br><span class="line"> 		KEY_KEY_Z            = 0x5A,  // Z key</span><br><span class="line"><span class="deletion">-		KEY_LWIN             = 0x5B,  // Left Windows key (Microsoft� Natural� keyboard)</span></span><br><span class="line"><span class="addition">+		KEY_LWIN             = 0x5B,  // Left Windows key (Microsoft® Natural® keyboard)</span></span><br><span class="line"> 		KEY_RWIN             = 0x5C,  // Right Windows key (Natural keyboard)</span><br><span class="line"> 		KEY_APPS             = 0x5D,  // Applications key (Natural keyboard)</span><br><span class="line"> 		KEY_SLEEP            = 0x5F,  // Computer Sleep key</span><br><span class="line"><span class="comment">diff --git a/irrlicht/include/irrTypes.h b/irrlicht/include/irrTypes.h</span></span><br><span class="line"><span class="comment">index cfeaf84..a656631 100644</span></span><br><span class="line"><span class="comment">--- a/irrlicht/include/irrTypes.h</span></span><br><span class="line"><span class="comment">+++ b/irrlicht/include/irrTypes.h</span></span><br><span class="line"><span class="meta">@@ -48,7 +48,9 @@</span> typedef __int16			s16;</span><br><span class="line"> typedef signed short		s16;</span><br><span class="line"> #endif</span><br><span class="line"> </span><br><span class="line"><span class="deletion">-</span></span><br><span class="line"><span class="addition">+//! 16 bit character variable.</span></span><br><span class="line"><span class="addition">+/** This is a typedef for wchar_t, it ensures portability of the engine. */</span></span><br><span class="line"><span class="addition">+typedef wchar_t			c16;</span></span><br><span class="line"> </span><br><span class="line"> //! 32 bit unsigned variable.</span><br><span class="line"> /** This is a typedef for unsigned int, it ensures portability of the engine. */</span><br><span class="line"><span class="comment">diff --git a/irrlicht/src/CGUIEditBox.cpp b/irrlicht/src/CGUIEditBox.cpp</span></span><br><span class="line"><span class="comment">index f33b5a2..8375444 100644</span></span><br><span class="line"><span class="comment">--- a/irrlicht/src/CGUIEditBox.cpp</span></span><br><span class="line"><span class="comment">+++ b/irrlicht/src/CGUIEditBox.cpp</span></span><br><span class="line"><span class="meta">@@ -287,7 +287,7 @@</span> bool CGUIEditBox::processKey(const SEvent&amp; event)</span><br><span class="line"> 				const s32 realmbgn = MarkBegin &lt; MarkEnd ? MarkBegin : MarkEnd;</span><br><span class="line"> 				const s32 realmend = MarkBegin &lt; MarkEnd ? MarkEnd : MarkBegin;</span><br><span class="line"> </span><br><span class="line"><span class="deletion">-				core::stringc s;</span></span><br><span class="line"><span class="addition">+				core::stringw s;</span></span><br><span class="line"> 				s = Text.subString(realmbgn, realmend - realmbgn).c_str();</span><br><span class="line"> 				Operator-&gt;copyToClipboard(s.c_str());</span><br><span class="line"> 			&#125;</span><br><span class="line"><span class="meta">@@ -300,7 +300,7 @@</span> bool CGUIEditBox::processKey(const SEvent&amp; event)</span><br><span class="line"> 				const s32 realmend = MarkBegin &lt; MarkEnd ? MarkEnd : MarkBegin;</span><br><span class="line"> </span><br><span class="line"> 				// copy</span><br><span class="line"><span class="deletion">-				core::stringc sc;</span></span><br><span class="line"><span class="addition">+				core::stringw sc;</span></span><br><span class="line"> 				sc = Text.subString(realmbgn, realmend - realmbgn).c_str();</span><br><span class="line"> 				Operator-&gt;copyToClipboard(sc.c_str());</span><br><span class="line"> </span><br><span class="line"><span class="meta">@@ -330,16 +330,10 @@</span> bool CGUIEditBox::processKey(const SEvent&amp; event)</span><br><span class="line"> 				const s32 realmend = MarkBegin &lt; MarkEnd ? MarkEnd : MarkBegin;</span><br><span class="line"> </span><br><span class="line"> 				// add new character</span><br><span class="line"><span class="deletion">-				const c8* p = Operator-&gt;getTextFromClipboard();</span></span><br><span class="line"><span class="addition">+				const c16* p = Operator-&gt;getTextFromClipboard();</span></span><br><span class="line"> 				if (p)</span><br><span class="line"> 				&#123;</span><br><span class="line"><span class="deletion">-					// TODO: we should have such a function in core::string</span></span><br><span class="line"><span class="deletion">-					size_t lenOld = strlen(p);</span></span><br><span class="line"><span class="deletion">-					wchar_t *ws = new wchar_t[lenOld + 1];</span></span><br><span class="line"><span class="deletion">-					size_t len = mbstowcs(ws,p,lenOld);</span></span><br><span class="line"><span class="deletion">-					ws[len] = 0;</span></span><br><span class="line"><span class="deletion">-					irr::core::stringw widep(ws);</span></span><br><span class="line"><span class="deletion">-					delete[] ws;</span></span><br><span class="line"><span class="addition">+					irr::core::stringw widep(p);</span></span><br><span class="line"> </span><br><span class="line"> 					if (MarkBegin == MarkEnd)</span><br><span class="line"> 					&#123;</span><br><span class="line"><span class="comment">diff --git a/irrlicht/src/CIrrDeviceWin32.cpp b/irrlicht/src/CIrrDeviceWin32.cpp</span></span><br><span class="line"><span class="comment">index f96c178..2e7a9ee 100644</span></span><br><span class="line"><span class="comment">--- a/irrlicht/src/CIrrDeviceWin32.cpp</span></span><br><span class="line"><span class="comment">+++ b/irrlicht/src/CIrrDeviceWin32.cpp</span></span><br><span class="line"><span class="meta">@@ -20,6 +20,8 @@</span></span><br><span class="line"> #include &quot;COSOperator.h&quot;</span><br><span class="line"> #include &quot;dimension2d.h&quot;</span><br><span class="line"> #include &quot;IGUISpriteBank.h&quot;</span><br><span class="line"><span class="addition">+#include &quot;IGUIEnvironment.h&quot;</span></span><br><span class="line"><span class="addition">+#include &quot;IGUIElement.h&quot;</span></span><br><span class="line"> #include &lt;winuser.h&gt;</span><br><span class="line"> #if defined(_IRR_COMPILE_WITH_JOYSTICK_EVENTS_)</span><br><span class="line"> #ifdef _IRR_COMPILE_WITH_DIRECTINPUT_JOYSTICK_</span><br><span class="line"><span class="meta">@@ -749,6 +751,26 @@</span> LRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)</span><br><span class="line"> 		return 0;</span><br><span class="line"> 	&#125;</span><br><span class="line"> </span><br><span class="line"><span class="addition">+	&#123;</span></span><br><span class="line"><span class="addition">+		dev = getDeviceFromHWnd(hWnd);</span></span><br><span class="line"><span class="addition">+		if (dev)</span></span><br><span class="line"><span class="addition">+		&#123;</span></span><br><span class="line"><span class="addition">+			irr::gui::IGUIElement* ele = dev-&gt;getGUIEnvironment()-&gt;getFocus();</span></span><br><span class="line"><span class="addition">+			if (!ele || (ele-&gt;getType() != irr::gui::EGUIET_EDIT_BOX) || !ele-&gt;isEnabled())</span></span><br><span class="line"><span class="addition">+			&#123;</span></span><br><span class="line"><span class="addition">+				HIMC hIMC = ImmGetContext(hWnd);</span></span><br><span class="line"><span class="addition">+				if (hIMC)</span></span><br><span class="line"><span class="addition">+				&#123;</span></span><br><span class="line"><span class="addition">+					ImmNotifyIME(hIMC, NI_COMPOSITIONSTR, CPS_COMPLETE, 0);</span></span><br><span class="line"><span class="addition">+					ImmReleaseContext(hWnd, hIMC);</span></span><br><span class="line"><span class="addition">+				&#125;</span></span><br><span class="line"><span class="addition">+				ImmAssociateContextEx(hWnd, NULL, 0);</span></span><br><span class="line"><span class="addition">+			&#125;</span></span><br><span class="line"><span class="addition">+			else</span></span><br><span class="line"><span class="addition">+				ImmAssociateContextEx(hWnd, NULL, IACE_DEFAULT);</span></span><br><span class="line"><span class="addition">+		&#125;</span></span><br><span class="line"><span class="addition">+	&#125;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"> 	switch (message)</span><br><span class="line"> 	&#123;</span><br><span class="line"> 	case WM_PAINT:</span><br><span class="line"><span class="meta">@@ -773,22 +795,21 @@</span> LRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)</span><br><span class="line"> 			event.KeyInput.Key = (irr::EKEY_CODE)wParam;</span><br><span class="line"> 			event.KeyInput.PressedDown = (message==WM_KEYDOWN || message == WM_SYSKEYDOWN);</span><br><span class="line"> </span><br><span class="line"><span class="deletion">-			const UINT MY_MAPVK_VSC_TO_VK_EX = 3; // MAPVK_VSC_TO_VK_EX should be in SDK according to MSDN, but isn&#x27;t in mine.</span></span><br><span class="line"> 			if ( event.KeyInput.Key == irr::KEY_SHIFT )</span><br><span class="line"> 			&#123;</span><br><span class="line"> 				// this will fail on systems before windows NT/2000/XP, not sure _what_ will return there instead.</span><br><span class="line"><span class="deletion">-				event.KeyInput.Key = (irr::EKEY_CODE)MapVirtualKey( ((lParam&gt;&gt;16) &amp; 255), MY_MAPVK_VSC_TO_VK_EX );</span></span><br><span class="line"><span class="addition">+				event.KeyInput.Key = (irr::EKEY_CODE)MapVirtualKey( ((lParam&gt;&gt;16) &amp; 255), MAPVK_VSC_TO_VK_EX );</span></span><br><span class="line"> 			&#125;</span><br><span class="line"> 			if ( event.KeyInput.Key == irr::KEY_CONTROL )</span><br><span class="line"> 			&#123;</span><br><span class="line"><span class="deletion">-				event.KeyInput.Key = (irr::EKEY_CODE)MapVirtualKey( ((lParam&gt;&gt;16) &amp; 255), MY_MAPVK_VSC_TO_VK_EX );</span></span><br><span class="line"><span class="addition">+				event.KeyInput.Key = (irr::EKEY_CODE)MapVirtualKey( ((lParam&gt;&gt;16) &amp; 255), MAPVK_VSC_TO_VK_EX );</span></span><br><span class="line"> 				// some keyboards will just return LEFT for both - left and right keys. So also check extend bit.</span><br><span class="line"> 				if (lParam &amp; 0x1000000)</span><br><span class="line"> 					event.KeyInput.Key = irr::KEY_RCONTROL;</span><br><span class="line"> 			&#125;</span><br><span class="line"> 			if ( event.KeyInput.Key == irr::KEY_MENU )</span><br><span class="line"> 			&#123;</span><br><span class="line"><span class="deletion">-				event.KeyInput.Key = (irr::EKEY_CODE)MapVirtualKey( ((lParam&gt;&gt;16) &amp; 255), MY_MAPVK_VSC_TO_VK_EX );</span></span><br><span class="line"><span class="addition">+				event.KeyInput.Key = (irr::EKEY_CODE)MapVirtualKey( ((lParam&gt;&gt;16) &amp; 255), MAPVK_VSC_TO_VK_EX );</span></span><br><span class="line"> 				if (lParam &amp; 0x1000000)</span><br><span class="line"> 					event.KeyInput.Key = irr::KEY_RMENU;</span><br><span class="line"> 			&#125;</span><br><span class="line"><span class="meta">@@ -904,6 +925,53 @@</span> LRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)</span><br><span class="line"> 		KEYBOARD_INPUT_HKL = GetKeyboardLayout(0);</span><br><span class="line"> 		KEYBOARD_INPUT_CODEPAGE = LocaleIdToCodepage( LOWORD(KEYBOARD_INPUT_HKL) );</span><br><span class="line"> 		return 0;</span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+	case WM_IME_STARTCOMPOSITION:</span></span><br><span class="line"><span class="addition">+		&#123;</span></span><br><span class="line"><span class="addition">+			dev = getDeviceFromHWnd(hWnd);</span></span><br><span class="line"><span class="addition">+			irr::gui::IGUIElement* ele = dev-&gt;getGUIEnvironment()-&gt;getFocus();</span></span><br><span class="line"><span class="addition">+			if (!ele)</span></span><br><span class="line"><span class="addition">+				break;</span></span><br><span class="line"><span class="addition">+			irr::core::position2di pos = ele-&gt;getAbsolutePosition().UpperLeftCorner;</span></span><br><span class="line"><span class="addition">+			COMPOSITIONFORM CompForm = &#123; CFS_POINT, &#123; pos.X, pos.Y + ele-&gt;getAbsolutePosition().getHeight() &#125; &#125;;</span></span><br><span class="line"><span class="addition">+			HIMC hIMC = ImmGetContext(hWnd);</span></span><br><span class="line"><span class="addition">+			ImmSetCompositionWindow(hIMC, &amp;CompForm);</span></span><br><span class="line"><span class="addition">+			ImmReleaseContext(hWnd, hIMC);</span></span><br><span class="line"><span class="addition">+		&#125;</span></span><br><span class="line"><span class="addition">+		break;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+	case WM_IME_CHAR:</span></span><br><span class="line"><span class="addition">+		event.EventType = irr::EET_KEY_INPUT_EVENT;</span></span><br><span class="line"><span class="addition">+		event.KeyInput.PressedDown = true;</span></span><br><span class="line"><span class="addition">+#ifdef _UNICODE</span></span><br><span class="line"><span class="addition">+		event.KeyInput.Char = wParam;</span></span><br><span class="line"><span class="addition">+#else</span></span><br><span class="line"><span class="addition">+		BYTE ch[3];</span></span><br><span class="line"><span class="addition">+		if(wParam &gt;&gt; 8) &#123;</span></span><br><span class="line"><span class="addition">+			ch[0] = wParam &gt;&gt; 8;</span></span><br><span class="line"><span class="addition">+			ch[1] = wParam &amp; 0xff;</span></span><br><span class="line"><span class="addition">+			ch[2] = 0;</span></span><br><span class="line"><span class="addition">+		&#125; else &#123;</span></span><br><span class="line"><span class="addition">+			ch[0] = wParam;</span></span><br><span class="line"><span class="addition">+			ch[1] = 0;</span></span><br><span class="line"><span class="addition">+		&#125;</span></span><br><span class="line"><span class="addition">+		WORD unicodeChar;</span></span><br><span class="line"><span class="addition">+		MultiByteToWideChar(</span></span><br><span class="line"><span class="addition">+			KEYBOARD_INPUT_CODEPAGE,</span></span><br><span class="line"><span class="addition">+			MB_PRECOMPOSED, // default</span></span><br><span class="line"><span class="addition">+			(LPCSTR)ch,</span></span><br><span class="line"><span class="addition">+			sizeof(wParam),</span></span><br><span class="line"><span class="addition">+			(WCHAR*)&amp;unicodeChar,</span></span><br><span class="line"><span class="addition">+			1);</span></span><br><span class="line"><span class="addition">+		event.KeyInput.Char = unicodeChar;</span></span><br><span class="line"><span class="addition">+#endif</span></span><br><span class="line"><span class="addition">+		event.KeyInput.Key = irr::KEY_ACCEPT;</span></span><br><span class="line"><span class="addition">+		event.KeyInput.Shift = 0;</span></span><br><span class="line"><span class="addition">+		event.KeyInput.Control = 0;</span></span><br><span class="line"><span class="addition">+		dev = getDeviceFromHWnd(hWnd);</span></span><br><span class="line"><span class="addition">+		if (dev)</span></span><br><span class="line"><span class="addition">+			dev-&gt;postEventFromUser(event);</span></span><br><span class="line"><span class="addition">+		return 0;</span></span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return DefWindowProc(hWnd, message, wParam, lParam);</span><br><span class="line"> &#125;</span><br><span class="line"><span class="meta">@@ -1797,8 +1865,8 @@</span> void CIrrDeviceWin32::handleSystemMessages()</span><br><span class="line"> </span><br><span class="line"> 	while (PeekMessage(&amp;msg, NULL, 0, 0, PM_REMOVE))</span><br><span class="line"> 	&#123;</span><br><span class="line"><span class="deletion">-		// No message translation because we don&#x27;t use WM_CHAR and it would conflict with our</span></span><br><span class="line"><span class="deletion">-		// deadkey handling.</span></span><br><span class="line"><span class="addition">+		// conflict with deadkey handling.</span></span><br><span class="line"><span class="addition">+		TranslateMessage(&amp;msg);</span></span><br><span class="line"> </span><br><span class="line"> 		if (ExternalWindow &amp;&amp; msg.hwnd == HWnd)</span><br><span class="line"> 			WndProc(HWnd, msg.message, msg.wParam, msg.lParam);</span><br><span class="line"><span class="comment">diff --git a/irrlicht/src/COSOperator.cpp b/irrlicht/src/COSOperator.cpp</span></span><br><span class="line"><span class="comment">index 90e644d..1856c04 100644</span></span><br><span class="line"><span class="comment">--- a/irrlicht/src/COSOperator.cpp</span></span><br><span class="line"><span class="comment">+++ b/irrlicht/src/COSOperator.cpp</span></span><br><span class="line"><span class="meta">@@ -52,9 +52,9 @@</span> const core::stringc&amp; COSOperator::getOperatingSystemVersion() const</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> //! copies text to the clipboard</span><br><span class="line"><span class="deletion">-void COSOperator::copyToClipboard(const c8* text) const</span></span><br><span class="line"><span class="addition">+void COSOperator::copyToClipboard(const c16* text) const</span></span><br><span class="line"> &#123;</span><br><span class="line"><span class="deletion">-	if (strlen(text)==0)</span></span><br><span class="line"><span class="addition">+	if (wcslen(text)==0)</span></span><br><span class="line"> 		return;</span><br><span class="line"> </span><br><span class="line"> // Windows version</span><br><span class="line"><span class="meta">@@ -66,15 +66,15 @@</span> void COSOperator::copyToClipboard(const c8* text) const</span><br><span class="line"> 	EmptyClipboard();</span><br><span class="line"> </span><br><span class="line"> 	HGLOBAL clipbuffer;</span><br><span class="line"><span class="deletion">-	char * buffer;</span></span><br><span class="line"><span class="addition">+	wchar_t * buffer;</span></span><br><span class="line"> </span><br><span class="line"><span class="deletion">-	clipbuffer = GlobalAlloc(GMEM_DDESHARE, strlen(text)+1);</span></span><br><span class="line"><span class="deletion">-	buffer = (char*)GlobalLock(clipbuffer);</span></span><br><span class="line"><span class="addition">+	clipbuffer = GlobalAlloc(GMEM_DDESHARE, sizeof(wchar_t) * (wcslen(text) + 1));</span></span><br><span class="line"><span class="addition">+	buffer = (wchar_t*)GlobalLock(clipbuffer);</span></span><br><span class="line"> </span><br><span class="line"><span class="deletion">-	strcpy(buffer, text);</span></span><br><span class="line"><span class="addition">+	wcscpy(buffer, text);</span></span><br><span class="line"> </span><br><span class="line"> 	GlobalUnlock(clipbuffer);</span><br><span class="line"><span class="deletion">-	SetClipboardData(CF_TEXT, clipbuffer);</span></span><br><span class="line"><span class="addition">+	SetClipboardData(CF_UNICODETEXT, clipbuffer);</span></span><br><span class="line"> 	CloseClipboard();</span><br><span class="line"> </span><br><span class="line"> // MacOSX version</span><br><span class="line"><span class="meta">@@ -93,7 +93,7 @@</span> void COSOperator::copyToClipboard(const c8* text) const</span><br><span class="line"> </span><br><span class="line"> //! gets text from the clipboard</span><br><span class="line"> //! \return Returns 0 if no string is in there.</span><br><span class="line"><span class="deletion">-const c8* COSOperator::getTextFromClipboard() const</span></span><br><span class="line"><span class="addition">+const c16* COSOperator::getTextFromClipboard() const</span></span><br><span class="line"> &#123;</span><br><span class="line"> #if defined(_IRR_XBOX_PLATFORM_)</span><br><span class="line"> 		return 0;</span><br><span class="line"><span class="meta">@@ -101,10 +101,10 @@</span> const c8* COSOperator::getTextFromClipboard() const</span><br><span class="line"> 	if (!OpenClipboard(NULL))</span><br><span class="line"> 		return 0;</span><br><span class="line"> </span><br><span class="line"><span class="deletion">-	char * buffer = 0;</span></span><br><span class="line"><span class="addition">+	wchar_t * buffer = 0;</span></span><br><span class="line"> </span><br><span class="line"><span class="deletion">-	HANDLE hData = GetClipboardData( CF_TEXT );</span></span><br><span class="line"><span class="deletion">-	buffer = (char*)GlobalLock( hData );</span></span><br><span class="line"><span class="addition">+	HANDLE hData = GetClipboardData( CF_UNICODETEXT );</span></span><br><span class="line"><span class="addition">+	buffer = (wchar_t*)GlobalLock( hData );</span></span><br><span class="line"> 	GlobalUnlock( hData );</span><br><span class="line"> 	CloseClipboard();</span><br><span class="line"> 	return buffer;</span><br><span class="line"><span class="comment">diff --git a/irrlicht/src/COSOperator.h b/irrlicht/src/COSOperator.h</span></span><br><span class="line"><span class="comment">index 3f633da..c0712df 100644</span></span><br><span class="line"><span class="comment">--- a/irrlicht/src/COSOperator.h</span></span><br><span class="line"><span class="comment">+++ b/irrlicht/src/COSOperator.h</span></span><br><span class="line"><span class="meta">@@ -27,11 +27,11 @@</span> public:</span><br><span class="line"> 	virtual const core::stringc&amp; getOperatingSystemVersion() const;</span><br><span class="line"> </span><br><span class="line"> 	//! copies text to the clipboard</span><br><span class="line"><span class="deletion">-	virtual void copyToClipboard(const c8* text) const;</span></span><br><span class="line"><span class="addition">+	virtual void copyToClipboard(const c16* text) const;</span></span><br><span class="line"> </span><br><span class="line"> 	//! gets text from the clipboard</span><br><span class="line"> 	//! \return Returns 0 if no string is in there.</span><br><span class="line"><span class="deletion">-	virtual const c8* getTextFromClipboard() const;</span></span><br><span class="line"><span class="addition">+	virtual const c16* getTextFromClipboard() const;</span></span><br><span class="line"> </span><br><span class="line"> 	//! gets the processor speed in megahertz</span><br><span class="line"> 	//! \param Mhz:</span><br></pre></td></tr></table></figure>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">patch -p1 &lt; irrlicht\irrlicht.patch</span><br></pre></td></tr></table></figure>
<p>根据 irrlicht 的 vcxproj，得到如下 <a href="irrlicht/premake5.lua"><code>premake5.lua</code></a>，放到 <code>irrlicht</code> 文件夹里。</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">project <span class="string">&quot;Irrlicht&quot;</span></span><br><span class="line">    kind <span class="string">&quot;StaticLib&quot;</span></span><br><span class="line"></span><br><span class="line">    includedirs &#123; <span class="string">&quot;include&quot;</span>, <span class="string">&quot;src&quot;</span>, <span class="string">&quot;src/jpeglib&quot;</span>, <span class="string">&quot;src/libpng&quot;</span>, <span class="string">&quot;src/zlib&quot;</span> &#125;</span><br><span class="line">    </span><br><span class="line">    defines &#123; <span class="string">&quot;_IRR_STATIC_LIB_&quot;</span> &#125;</span><br><span class="line">    exceptionhandling <span class="string">&quot;Off&quot;</span></span><br><span class="line">    rtti <span class="string">&quot;Off&quot;</span></span><br><span class="line">    </span><br><span class="line">    files &#123; <span class="string">&quot;src/CCgMaterialRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CD3D9CgMaterialRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CDefaultSceneNodeAnimatorFactory.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CDefaultSceneNodeFactory.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGeometryCreator.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CMeshCache.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CMeshManipulator.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COpenGLCgMaterialRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSceneManager.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/C3DSMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSMFMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CAnimatedMeshHalfLife.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CAnimatedMeshMD2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CAnimatedMeshMD3.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CB3DMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CBSPMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CColladaFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CCSMLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CDMFLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CIrrMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CLMTSMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CLWOMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CMD2MeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CMD3MeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CMS3DMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CMY3DMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COBJMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COCTLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COgreMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CPLYMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CQ3LevelMesh.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSkinnedMesh.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSTLMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CXMeshFileLoader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CAnimatedMeshSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CBillboardSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CBoneSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CCameraSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CCubeSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CDummyTransformationSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CEmptySceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CLightSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CMeshSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COctreeSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CQuake3ShaderSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CShadowVolumeSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSkyBoxSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSkyDomeSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSphereSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTerrainSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTextSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CVolumeLightSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CWaterSurfaceSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CParticleAnimatedMeshSceneNodeEmitter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CParticleAttractionAffector.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CParticleBoxEmitter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CParticleCylinderEmitter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CParticleFadeOutAffector.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CParticleGravityAffector.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CParticleMeshEmitter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CParticlePointEmitter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CParticleRingEmitter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CParticleRotationAffector.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CParticleScaleAffector.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CParticleSphereEmitter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CParticleSystemSceneNode.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CMetaTriangleSelector.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COctreeTriangleSelector.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSceneCollisionManager.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTerrainTriangleSelector.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTriangleBBSelector.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTriangleSelector.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSceneLoaderIrr.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSceneNodeAnimatorCameraFPS.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSceneNodeAnimatorCameraMaya.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSceneNodeAnimatorCollisionResponse.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSceneNodeAnimatorDelete.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSceneNodeAnimatorFlyCircle.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSceneNodeAnimatorFlyStraight.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSceneNodeAnimatorFollowSpline.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSceneNodeAnimatorRotation.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSceneNodeAnimatorTexture.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CColladaMeshWriter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CIrrMeshWriter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COBJMeshWriter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CPLYMeshWriter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSTLMeshWriter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CVideoModeList.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSoftwareDriver.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSoftwareTexture.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRFlat.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRFlatWire.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRGouraud.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRGouraudWire.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureFlat.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureFlatWire.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureGouraud.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureGouraudAdd.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureGouraudNoZ.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureGouraudWire.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CZBuffer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COpenGLDriver.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COpenGLExtensionHandler.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COpenGLNormalMapRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COpenGLParallaxMapRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COpenGLShaderMaterialRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COpenGLSLMaterialRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COpenGLTexture.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CD3D8Driver.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CD3D8NormalMapRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CD3D8ParallaxMapRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CD3D8ShaderMaterialRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CD3D8Texture.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CColorConverter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CFPSCounter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImage.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CNullDriver.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageWriterBMP.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageWriterJPG.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageWriterPCX.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageWriterPNG.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageWriterPPM.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageWriterPSD.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageWriterTGA.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageLoaderBMP.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageLoaderDDS.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageLoaderJPG.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageLoaderPCX.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageLoaderPNG.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageLoaderPPM.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageLoaderPSD.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageLoaderRGB.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageLoaderTGA.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CImageLoaderWAL.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CD3D9Driver.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CD3D9HLSLMaterialRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CD3D9NormalMapRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CD3D9ParallaxMapRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CD3D9ShaderMaterialRenderer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CD3D9Texture.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CBurningShader_Raster_Reference.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CDepthBuffer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSoftwareDriver2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CSoftwareTexture2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRGouraud2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRGouraudAlpha2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRGouraudAlphaNoZ2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRNormalMap.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRStencilShadow.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureBlend.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureDetailMap2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureGouraud2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureGouraudAdd2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureGouraudAddNoZ2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureGouraudAlpha.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureGouraudAlphaNoZ.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureGouraudNoZ2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureGouraudVertexAlpha2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureLightMap2_Add.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureLightMap2_M1.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureLightMap2_M2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureLightMap2_M4.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureLightMapGouraud2_M4.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTRTextureWire2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/IBurningShader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CLogger.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/COSOperator.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/Irrlicht.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/os.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/lzma/LzmaDec.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/zlib/adler32.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/zlib/compress.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/zlib/crc32.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/zlib/deflate.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/zlib/inffast.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/zlib/inflate.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/zlib/inftrees.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/zlib/trees.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/zlib/uncompr.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/zlib/zutil.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jaricom.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jcapimin.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jcapistd.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jcarith.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jccoefct.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jccolor.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jcdctmgr.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jchuff.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jcinit.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jcmainct.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jcmarker.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jcmaster.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jcomapi.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jcparam.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jcprepct.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jcsample.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jctrans.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdapimin.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdapistd.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdarith.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdatadst.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdatasrc.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdcoefct.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdcolor.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jddctmgr.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdhuff.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdinput.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdmainct.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdmarker.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdmaster.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdmerge.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdpostct.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdsample.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jdtrans.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jerror.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jfdctflt.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jfdctfst.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jfdctint.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jidctflt.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jidctfst.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jidctint.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jmemmgr.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jmemnobs.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jquant1.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jquant2.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/jpeglib/jutils.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/png.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngerror.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngget.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngmem.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngpread.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngread.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngrio.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngrtran.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngrutil.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngset.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngtrans.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngwio.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngwrite.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngwtran.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/libpng/pngwutil.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/aesGladman/aescrypt.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/aesGladman/aeskey.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/aesGladman/aestab.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/aesGladman/fileenc.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/aesGladman/hmac.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/aesGladman/prng.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/aesGladman/pwd2key.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/aesGladman/sha1.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/aesGladman/sha2.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/bzip2/blocksort.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/bzip2/bzcompress.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/bzip2/bzlib.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/bzip2/crctable.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/bzip2/decompress.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/bzip2/huffman.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/bzip2/randtable.c&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CIrrDeviceConsole.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CIrrDeviceFB.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CIrrDeviceLinux.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CIrrDeviceSDL.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CIrrDeviceStub.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CIrrDeviceWin32.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CIrrDeviceWinCE.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CAttributes.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CFileList.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CFileSystem.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CLimitReadFile.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CMemoryFile.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CMountPointReader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CNPKReader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CPakReader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CReadFile.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CTarReader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CWADReader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CWriteFile.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CXMLReader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CXMLWriter.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CZipReader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/irrXML.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CDefaultGUIElementFactory.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIButton.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUICheckbox.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIColorSelectDialog.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIComboBox.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIContextMenu.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIEditBox.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIEnvironment.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIFileOpenDialog.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIFont.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIImage.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIImageList.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIInOutFader.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIListBox.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIMenu.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIMeshViewer.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIMessageBox.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIModalScreen.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIScrollBar.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUISkin.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUISpinBox.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUISpriteBank.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIStaticText.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUITabControl.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUITable.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIToolBar.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUITreeView.cpp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;src/CGUIWindow.cpp&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    configuration &#123; <span class="string">&quot;vs*&quot;</span> &#125;</span><br><span class="line">        includedirs &#123; <span class="string">&quot;$(DXSDK_DIR)include&quot;</span> &#125;</span><br><span class="line">        libdirs &#123; <span class="string">&quot;$(DXSDK_DIR)Lib/x86&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    configuration &#123; <span class="string">&quot;windows&quot;</span> &#125;</span><br><span class="line">        links &#123; <span class="string">&quot;imm32&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><h1 id="配置-Lua"><a href="#配置-Lua" class="headerlink" title="配置 Lua"></a>配置 Lua</h1></li>
</ol>
<p>解压 <a target="_blank" rel="noopener" href="https://www.lua.org/ftp/lua-5.2.4.tar.gz"><code>lua-5.2.4.tar.gz</code></a> 到项目目录，将文件夹重命名为 <code>lua</code>。<br>为兼容 YGOPro 源码，将 <code>src</code> 文件夹里除 Makefile 外的文件全部移动到 <code>lua</code> 文件夹。<br>Lua 源码的文件结构非常简单，直接把如下 <a href="lua/premake4.lua"><code>premake4.lua</code></a> 放到 <code>lua</code> 文件夹里即可。</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">project <span class="string">&quot;lua&quot;</span></span><br><span class="line">    kind <span class="string">&quot;StaticLib&quot;</span></span><br><span class="line"></span><br><span class="line">    files &#123; <span class="string">&quot;*.c&quot;</span>, <span class="string">&quot;*.h&quot;</span> &#125;</span><br><span class="line">    removefiles &#123; <span class="string">&quot;luac.c&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<ol start="6">
<li><h1 id="配置-SQLite"><a href="#配置-SQLite" class="headerlink" title="配置 SQLite"></a>配置 SQLite</h1></li>
</ol>
<p>解压 <a target="_blank" rel="noopener" href="https://www.sqlite.org/2017/sqlite-amalgamation-3170000.zip"><code>sqlite-amalgamation-3170000.zip</code></a> 到项目目录，将文件夹重命名为 <code>sqlite3</code>。<br>SQLite 源码的文件结构非常简单，直接把如下 <a href="sqlite3/premake4.lua"><code>premake4.lua</code></a> 放到 <code>sqlite3</code> 文件夹里即可。</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">project <span class="string">&quot;sqlite3&quot;</span></span><br><span class="line">    kind <span class="string">&quot;StaticLib&quot;</span></span><br><span class="line"></span><br><span class="line">    files &#123; <span class="string">&quot;sqlite3.c&quot;</span>, <span class="string">&quot;sqlite3.h&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<ol start="7">
<li><h1 id="生成解决方案"><a href="#生成解决方案" class="headerlink" title="生成解决方案"></a>生成解决方案</h1></li>
</ol>
<p>在生成解决方案之前，我们还需要对 premake 做几个设置。<br>打开项目目录中的 <code>premake4.lua</code>，将其改为如下 <a href="premake5.lua"><code>premake5.lua</code></a>。</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">solution <span class="string">&quot;ygo&quot;</span></span><br><span class="line">    location <span class="string">&quot;build&quot;</span></span><br><span class="line">    language <span class="string">&quot;C++&quot;</span></span><br><span class="line">    objdir <span class="string">&quot;obj&quot;</span></span><br><span class="line"></span><br><span class="line">    configurations &#123; <span class="string">&quot;Debug&quot;</span>, <span class="string">&quot;Release&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    configuration <span class="string">&quot;windows&quot;</span></span><br><span class="line">        defines &#123; <span class="string">&quot;WIN32&quot;</span>, <span class="string">&quot;_WIN32&quot;</span>, <span class="string">&quot;WINVER=0x0501&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    configuration <span class="string">&quot;bsd&quot;</span></span><br><span class="line">        defines &#123; <span class="string">&quot;LUA_USE_POSIX&quot;</span> &#125;</span><br><span class="line">        includedirs &#123; <span class="string">&quot;/usr/local/include&quot;</span> &#125;</span><br><span class="line">        libdirs &#123; <span class="string">&quot;/usr/local/lib&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    configuration <span class="string">&quot;macosx&quot;</span></span><br><span class="line">        defines &#123; <span class="string">&quot;LUA_USE_MACOSX&quot;</span> &#125;</span><br><span class="line">        includedirs &#123; <span class="string">&quot;/usr/local/include/*&quot;</span> &#125;</span><br><span class="line">        libdirs &#123; <span class="string">&quot;/usr/local/lib&quot;</span>, <span class="string">&quot;/usr/X11/lib&quot;</span> &#125;</span><br><span class="line">        buildoptions &#123; <span class="string">&quot;-stdlib=libc++&quot;</span> &#125;</span><br><span class="line">        links &#123; <span class="string">&quot;OpenGL.framework&quot;</span>, <span class="string">&quot;Cocoa.framework&quot;</span>, <span class="string">&quot;IOKit.framework&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    configuration <span class="string">&quot;linux&quot;</span></span><br><span class="line">        defines &#123; <span class="string">&quot;LUA_USE_LINUX&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    configuration <span class="string">&quot;Release&quot;</span></span><br><span class="line">        flags &#123; <span class="string">&quot;OptimizeSpeed&quot;</span> &#125;</span><br><span class="line">        targetdir <span class="string">&quot;bin/release&quot;</span></span><br><span class="line"></span><br><span class="line">    configuration <span class="string">&quot;Debug&quot;</span></span><br><span class="line">        symbols <span class="string">&quot;On&quot;</span></span><br><span class="line">        defines <span class="string">&quot;_DEBUG&quot;</span></span><br><span class="line">        targetdir <span class="string">&quot;bin/debug&quot;</span></span><br><span class="line"></span><br><span class="line">    configuration &#123; <span class="string">&quot;Release&quot;</span>, <span class="string">&quot;vs*&quot;</span> &#125;</span><br><span class="line">        flags &#123; <span class="string">&quot;StaticRuntime&quot;</span>, <span class="string">&quot;LinkTimeOptimization&quot;</span> &#125;</span><br><span class="line">        disablewarnings &#123; <span class="string">&quot;4244&quot;</span>, <span class="string">&quot;4267&quot;</span>, <span class="string">&quot;4838&quot;</span>, <span class="string">&quot;4577&quot;</span>, <span class="string">&quot;4819&quot;</span>, <span class="string">&quot;4018&quot;</span>, <span class="string">&quot;4996&quot;</span>, <span class="string">&quot;4477&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    configuration &#123; <span class="string">&quot;Release&quot;</span>, <span class="string">&quot;not vs*&quot;</span> &#125;</span><br><span class="line">        symbols <span class="string">&quot;On&quot;</span></span><br><span class="line">        defines <span class="string">&quot;NDEBUG&quot;</span></span><br><span class="line">        buildoptions <span class="string">&quot;-march=native&quot;</span></span><br><span class="line"></span><br><span class="line">    configuration &#123; <span class="string">&quot;Debug&quot;</span>, <span class="string">&quot;vs*&quot;</span> &#125;</span><br><span class="line">        defines &#123; <span class="string">&quot;_ITERATOR_DEBUG_LEVEL=0&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    configuration <span class="string">&quot;vs*&quot;</span></span><br><span class="line">        flags <span class="string">&quot;EnableSSE2&quot;</span></span><br><span class="line">        defines &#123; <span class="string">&quot;_CRT_SECURE_NO_WARNINGS&quot;</span> &#125;</span><br><span class="line">    </span><br><span class="line">    configuration <span class="string">&quot;not vs*&quot;</span></span><br><span class="line">        buildoptions &#123; <span class="string">&quot;-fno-strict-aliasing&quot;</span>, <span class="string">&quot;-Wno-multichar&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    configuration &#123;<span class="string">&quot;not vs*&quot;</span>, <span class="string">&quot;windows&quot;</span>&#125;</span><br><span class="line">        buildoptions &#123; <span class="string">&quot;-static-libgcc&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">    startproject <span class="string">&quot;ygopro&quot;</span></span><br><span class="line"></span><br><span class="line">    include <span class="string">&quot;ocgcore&quot;</span></span><br><span class="line">    include <span class="string">&quot;gframe&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">os</span>.is(<span class="string">&quot;windows&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    include <span class="string">&quot;event&quot;</span></span><br><span class="line">    include <span class="string">&quot;freetype&quot;</span></span><br><span class="line">    include <span class="string">&quot;irrlicht&quot;</span></span><br><span class="line">    include <span class="string">&quot;lua&quot;</span></span><br><span class="line">    include <span class="string">&quot;sqlite3&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>解压 <a target="_blank" rel="noopener" href="https://github.com/premake/premake-core/releases/download/v5.0.0-alpha11/premake-5.0.0-alpha11-windows.zip"><code>premake-5.0.0-alpha11-windows.zip</code></a> 到项目目录。<br>运行 <code>premake5 vs2015</code> 即可在 <code>build</code> 文件夹内生成sln文件。<br>程序还需要一个资源文件，把如下 <a href="gframe/ygopro.rc"><code>ygopro.rc</code></a> 和 <a href="gframe/ygopro.ico"><code>ygopro.ico</code></a> 放到 <code>gframe</code> 文件夹里。</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">1</span> ICON <span class="string">&quot;ygopro.ico&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">1</span> VERSIONINFO</span><br><span class="line"><span class="attribute">FILEVERSION</span> <span class="number">1</span>, <span class="number">0</span>, <span class="number">33</span>, <span class="number">13</span></span><br><span class="line"><span class="attribute">PRODUCTVERSION</span> <span class="number">1</span>, <span class="number">0</span>, <span class="number">33</span>, <span class="number">13</span></span><br><span class="line"><span class="attribute">FILEOS</span> <span class="number">0</span>x4</span><br><span class="line"><span class="attribute">FILETYPE</span> <span class="number">0</span>x1</span><br><span class="line"></span><br><span class="line"><span class="attribute">BEGIN</span></span><br><span class="line"><span class="attribute">BLOCK</span> <span class="string">&quot;StringFileInfo&quot;</span></span><br><span class="line"><span class="attribute">BEGIN</span></span><br><span class="line"><span class="attribute">BLOCK</span> <span class="string">&quot;080404b0&quot;</span></span><br><span class="line"><span class="attribute">BEGIN</span></span><br><span class="line"><span class="attribute">VALUE</span> <span class="string">&quot;FileDescription&quot;</span>, <span class="string">&quot;YGOPro&quot;</span></span><br><span class="line"><span class="attribute">VALUE</span> <span class="string">&quot;InternalName&quot;</span>, <span class="string">&quot;YGOPro&quot;</span></span><br><span class="line"><span class="attribute">VALUE</span> <span class="string">&quot;LegalCopyright&quot;</span>, <span class="string">&quot;Copyright (C) 2017 Fluorohydride&quot;</span></span><br><span class="line"><span class="attribute">VALUE</span> <span class="string">&quot;OriginalFilename&quot;</span>, <span class="string">&quot;ygopro.exe&quot;</span></span><br><span class="line"><span class="attribute">VALUE</span> <span class="string">&quot;ProductName&quot;</span>, <span class="string">&quot;YGOPro&quot;</span></span><br><span class="line"><span class="attribute">VALUE</span> <span class="string">&quot;FileVersion&quot;</span>, <span class="string">&quot;1.033.D.233&quot;</span></span><br><span class="line"><span class="attribute">VALUE</span> <span class="string">&quot;ProductVersion&quot;</span>, <span class="string">&quot;1.033.D.233&quot;</span></span><br><span class="line"><span class="attribute">END</span></span><br><span class="line"><span class="attribute">END</span></span><br><span class="line"><span class="attribute">BLOCK</span> <span class="string">&quot;VarFileInfo&quot;</span></span><br><span class="line"><span class="attribute">BEGIN</span></span><br><span class="line"><span class="attribute">VALUE</span> <span class="string">&quot;Translation&quot;</span>, <span class="number">0</span>x804, <span class="number">1200</span></span><br><span class="line"><span class="attribute">END</span></span><br><span class="line"><span class="attribute">END</span></span><br></pre></td></tr></table></figure>

<ol start="8">
<li><h1 id="选项设置"><a href="#选项设置" class="headerlink" title="选项设置"></a>选项设置</h1></li>
</ol>
<p>完成了以上步骤后，我们的 ygo 项目已经可以用 VS2015 打开并编译了。<br>如需要程序支持XP，在 <code>ygopro</code> 的属性中将 <code>平台工具集</code> 设置为 <code>Visual Studio 2015 - Windows XP (v140_xp)</code>。<br>别忘记把 <code>解决方案配置</code> 改成 <code>Release</code>。</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/经验/">经验</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="https://mercury233.me/2016/09/22/%E7%AC%94%E8%AE%B0%EF%BC%9A%E5%9C%A8Windows%E4%B8%8B%E7%BC%96%E8%AF%91YGOPRO/" data-title="笔记：在Windows下编译YGOPro | Mercury233" data-tsina="" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2018/06/16/解决Chrome66开始出现的Flash不能输入中文（没有输入法）的问题/" title="解决Chrome66开始出现的Flash不能输入中文（调不出输入法）的问题">
  <strong>上一篇：</strong><br/>
  <span>
  解决Chrome66开始出现的Flash不能输入中文（调不出输入法）的问题</span>
</a>
</div>


<div class="next">
<a href="/2016/03/13/网页中相对路径的一个坑/"  title="网页中相对路径的一个坑">
 <strong>下一篇：</strong><br/> 
 <span>网页中相对路径的一个坑
</span>
</a>
</div>

</nav>

	





</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/技巧/" title="技巧">技巧<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/经验/" title="经验">经验<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/百度空间存档/" title="百度空间存档">百度空间存档<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/游戏王/" title="游戏王">游戏王<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/原创软件/" title="原创软件">原创软件<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/原创Web-App/" title="原创Web App">原创Web App<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/游戏/" title="游戏">游戏<sup>1</sup></a></li>
			
		
		</ul>
</div>


  
  <div class="archiveslist">
    <p class="asidetitle"><a href="/archives">归档</a></p>
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">九月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">八月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">三月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">十一月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/12/">十二月 2009</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/10/">十月 2008</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/05/">五月 2008</a><span class="archive-list-count">1</span></li></ul>
  </div>


  
  <div class="archiveslist">
    <p class="asidetitle">最新文章</p>
      <ul class="archive-list">
        
          <li class="archive-list-item">
            <a class="archive-list-link" href="/2021/02/24/%E8%A7%A3%E5%86%B3EPSON-LQ-630K-ESC-P-2-Ver-2-0%E6%89%93%E5%8D%B0%E6%9C%BA%E6%97%A0%E6%B3%95%E4%BB%8EWIN7%E5%85%B1%E4%BA%AB%E7%BB%99XP%E7%9A%84%E9%97%AE%E9%A2%98/">解决EPSON LQ-630K ESC/P 2 Ver 2.0打印机无法从WIN7共享给XP的问题</a>
          </li>
        
          <li class="archive-list-item">
            <a class="archive-list-link" href="/2018/06/16/%E8%A7%A3%E5%86%B3Chrome66%E5%BC%80%E5%A7%8B%E5%87%BA%E7%8E%B0%E7%9A%84Flash%E4%B8%8D%E8%83%BD%E8%BE%93%E5%85%A5%E4%B8%AD%E6%96%87%EF%BC%88%E6%B2%A1%E6%9C%89%E8%BE%93%E5%85%A5%E6%B3%95%EF%BC%89%E7%9A%84%E9%97%AE%E9%A2%98/">解决Chrome66开始出现的Flash不能输入中文（调不出输入法）的问题</a>
          </li>
        
          <li class="archive-list-item">
            <a class="archive-list-link" href="/2016/09/22/%E7%AC%94%E8%AE%B0%EF%BC%9A%E5%9C%A8Windows%E4%B8%8B%E7%BC%96%E8%AF%91YGOPRO/">笔记：在Windows下编译YGOPro</a>
          </li>
        
          <li class="archive-list-item">
            <a class="archive-list-link" href="/2016/03/13/%E7%BD%91%E9%A1%B5%E4%B8%AD%E7%9B%B8%E5%AF%B9%E8%B7%AF%E5%BE%84%E7%9A%84%E4%B8%80%E4%B8%AA%E5%9D%91/">网页中相对路径的一个坑</a>
          </li>
        
          <li class="archive-list-item">
            <a class="archive-list-link" href="/2015/10/14/%E5%8D%A1%E6%B1%A0%E7%94%9F%E6%88%90%E5%99%A8/">卡池生成器</a>
          </li>
        
      </ul>
  </div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://hexo.io/zh-cn/" target="_blank" title="hexo">hexo</a>
            
          </li>
        
    </ul>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/mercury233" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
	</div>
			
		
				<div class="cc-license">
          <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
            <img src="/img/cc-by-nc-sa.svg" alt="Creative Commons" />
          </a>
        </div>
    

		<p class="copyright">
		Powered by <a href="https://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a>.
		Hosted by <a href="https://www.netlify.com/" target="_blank" title="Netlify">Netlify</a> and <a href="https://github.com/" target="_blank" title="GitHub">GitHub</a>.
		© 2022 
		
		<a href="/about" target="_blank" title="Mercury233">Mercury233</a>
		
		
		</p>
</div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>














<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?5f138a9579bf7b762ee83edf0e4a8085";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>







  </body>
</html>
